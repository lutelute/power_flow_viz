# power_flow_intuitive.html - æ½®æµè¨ˆç®—åæŸéç¨‹ç›´æ„Ÿçš„ç†è§£ãƒ„ãƒ¼ãƒ«

## ğŸ“‹ æ¦‚è¦

`power_flow_intuitive.html`ã¯ã€æ½®æµè¨ˆç®—ã®åæŸéç¨‹ã‚’è¦–è¦šçš„ãƒ»ç›´æ„Ÿçš„ã«ç†è§£ã§ãã‚‹æ•™è‚²ç‰¹åŒ–å‹å¯è¦–åŒ–ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚è¤‡ç´ é›»åœ§å¹³é¢ã§ã®åæŸè»Œè·¡ã€èª¤å·®é¢ã®3Dè¡¨ç¤ºã€ãƒ™ã‚¯ãƒˆãƒ«å ´å¯è¦–åŒ–ãªã©ã‚’é€šã˜ã¦ã€æŠ½è±¡çš„ãªæ•°å€¤è¨ˆç®—éç¨‹ã‚’å…·ä½“çš„ã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ãã¾ã™ã€‚

## ğŸ¯ ä¸»è¦æ©Ÿèƒ½

### ç›´æ„Ÿçš„å¯è¦–åŒ–è¦ç´ 

#### 1. è¤‡ç´ é›»åœ§å¹³é¢è¡¨ç¤º
- **åæŸè»Œè·¡**: V = |V|e^(jÎ´) å¹³é¢ã§ã®é›»åœ§å¤‰åŒ–çµŒè·¯
- **ç­‰é«˜ç·šãƒãƒƒãƒ—**: èª¤å·®åˆ†å¸ƒã®åœ°å½¢å›³è¡¨ç¤º
- **ãƒ™ã‚¯ãƒˆãƒ«å ´**: å„ç‚¹ã§ã®æ›´æ–°æ–¹å‘è¡¨ç¤º
- **åˆ°é”é ˜åŸŸ**: åæŸå¯èƒ½ãªåˆæœŸå€¤ç¯„å›²

#### 2. èª¤å·®é¢3Då¯è¦–åŒ–
- **ã‚¨ãƒ©ãƒ¼é–¢æ•°**: ||Î”P||Â² + ||Î”Q||Â² ã®ç«‹ä½“è¡¨ç¤º
- **åæŸè°·**: æœ€é©è§£å‘¨è¾ºã®èª¤å·®åˆ†å¸ƒ
- **å‹¾é…æ–¹å‘**: æœ€æ€¥é™ä¸‹æ–¹å‘ã®çŸ¢å°è¡¨ç¤º
- **å±€æ‰€æœ€å°**: éå¤§åŸŸæœ€é©è§£ã®å¯è¦–åŒ–

#### 3. æ®µéšçš„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- **åå¾©éç¨‹**: å„ã‚¹ãƒ†ãƒƒãƒ—ã§ã®é›»åœ§æ›´æ–°
- **åæŸåˆ¤å®š**: èª¤å·®æ¸›å°‘ã®è¦–è¦šçš„ç¢ºèª
- **ç™ºæ•£æ¤œå‡º**: åæŸå¤±æ•—ã®å‹•çš„è¡¨ç¤º
- **é€Ÿåº¦åˆ¶å¾¡**: å­¦ç¿’ãƒšãƒ¼ã‚¹ã«å¿œã˜ãŸå†ç”Ÿé€Ÿåº¦

#### 4. ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ¢ç´¢
- **åˆæœŸå€¤å¤‰æ›´**: ãƒã‚¦ã‚¹ã‚¯ãƒªãƒƒã‚¯ã§åˆæœŸæ¡ä»¶è¨­å®š
- **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®è¨­å®šå¤‰æ›´
- **è»Œè·¡æ¯”è¼ƒ**: è¤‡æ•°ã®åˆæœŸå€¤ã‹ã‚‰ã®åŒæ™‚å®Ÿè¡Œ
- **æ„Ÿåº¦åˆ†æ**: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¤‰åŒ–ã®å½±éŸ¿ç¢ºèª

## ğŸ§  æ•™è‚²è¨­è¨ˆæ€æƒ³

### æŠ½è±¡æ¦‚å¿µã®å…·ä½“åŒ–

#### åæŸæ¦‚å¿µã®è¦–è¦šåŒ–
```
å¾“æ¥ã®ç†è§£:
ã€Œåå¾©è¨ˆç®—ã«ã‚ˆã‚Šè§£ãŒåæŸã™ã‚‹ã€
            â†“
è¦–è¦šçš„ç†è§£:
ã€Œé›»åœ§ç‚¹ãŒè§£ç©ºé–“å†…ã§æœ€é©è§£ã«å‘ã‹ã£ã¦ç§»å‹•ã™ã‚‹ã€

æ•°å¼: V^(k+1) = V^(k) + Î”V^(k)
      â†“ å…·ä½“åŒ–
è»Œè·¡: (Vâ‚, Vâ‚‚) â†’ (Vâ‚', Vâ‚‚') â†’ ... â†’ (V*â‚, V*â‚‚)
```

#### æ•°å­¦çš„å³å¯†æ€§ã¨ç›´æ„Ÿã®ä¸¡ç«‹
1. **ç†è«–çš„æ­£ç¢ºæ€§**: å³å¯†ãªæ•°å­¦çš„å®šå¼åŒ–ç¶­æŒ
2. **è¦–è¦šçš„åˆ†ã‹ã‚Šã‚„ã™ã•**: æ¦‚å¿µã®ç›´æ„Ÿçš„ç†è§£æ”¯æ´
3. **æ®µéšçš„æ·±åŒ–**: åŸºç¤ã‹ã‚‰å¿œç”¨ã¸ã®ä½“ç³»çš„å­¦ç¿’
4. **å®Ÿé¨“çš„å­¦ç¿’**: ä»®èª¬æ¤œè¨¼ã«ã‚ˆã‚‹èƒ½å‹•çš„ç†è§£

### å­¦ç¿’è€…é©å¿œå‹è¨­è¨ˆ

#### åˆå¿ƒè€…ãƒ¢ãƒ¼ãƒ‰
- **ç°¡åŒ–è¡¨ç¤º**: è¤‡é›‘ãªè©³ç´°ã‚’éš è”½
- **ã‚¬ã‚¤ãƒ‰æ©Ÿèƒ½**: æ³¨ç›®ã™ã¹ãè¦ç´ ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ
- **ç”¨èªèª¬æ˜**: å°‚é–€ç”¨èªã®å¹³æ˜“ãªè§£èª¬
- **æ®µéšåˆ¶å¾¡**: ç†è§£åº¦ã«å¿œã˜ãŸæƒ…å ±é–‹ç¤º

#### ä¸­ç´šè€…ãƒ¢ãƒ¼ãƒ‰  
- **è©³ç´°æƒ…å ±**: Jacobianæ§‹é€ ãªã©ã®ä¸­é–“çµæœ
- **æ¯”è¼ƒæ©Ÿèƒ½**: è¤‡æ•°æ‰‹æ³•ã®åŒæ™‚è¡¨ç¤º
- **æ•°å¼è¡¨ç¤º**: æ•°å­¦çš„èƒŒæ™¯ã®æ˜ç¤º
- **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å®Ÿé¨“**: è¨­å®šå€¤å¤‰æ›´ã«ã‚ˆã‚‹å½±éŸ¿ç¢ºèª

#### ä¸Šç´šè€…ãƒ¢ãƒ¼ãƒ‰
- **å®Œå…¨è¡¨ç¤º**: å…¨è¨ˆç®—éç¨‹ã®è©³ç´°è¡¨ç¤º
- **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**: ç‹¬è‡ªå®Ÿé¨“ç’°å¢ƒã®æ§‹ç¯‰
- **ç†è«–åˆ†æ**: åæŸç†è«–ã®æ•°å­¦çš„æ¤œè¨¼
- **ç ”ç©¶æ”¯æ´**: æ–°æ‰‹æ³•é–‹ç™ºã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

## ğŸ–¥ï¸ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

### ãƒ¡ã‚¤ãƒ³å¯è¦–åŒ–ã‚¨ãƒªã‚¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ½®æµè¨ˆç®— åæŸéç¨‹å¯è¦–åŒ– - ç›´æ„Ÿçš„ç†è§£                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   è¤‡ç´ é›»åœ§å¹³é¢    â”‚          èª¤å·®é¢ 3Dè¡¨ç¤º               â”‚ â”‚
â”‚ â”‚                   â”‚                                       â”‚ â”‚
â”‚ â”‚   Im(V)           â”‚         ||f||                         â”‚ â”‚
â”‚ â”‚    â†‘              â”‚           â†‘                          â”‚ â”‚
â”‚ â”‚    â”‚   â—â”€â†’â—â”€â†’â—   â”‚          /|\                         â”‚ â”‚
â”‚ â”‚    â”‚  /     â†˜ â”‚   â”‚         / | \                        â”‚ â”‚
â”‚ â”‚â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€ â”‚        /  |  \                       â”‚ â”‚
â”‚ â”‚    â”‚ Re(V)    â†“   â”‚       /   â—   \  â† ç¾åœ¨ä½ç½®          â”‚ â”‚
â”‚ â”‚    â”‚          â—   â”‚      /    |    \                     â”‚ â”‚
â”‚ â”‚                   â”‚     â””â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”˜                    â”‚ â”‚
â”‚ â”‚ â— åˆæœŸå€¤ â†’ è»Œè·¡   â”‚           Î¸                          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ åˆ¶å¾¡ãƒ‘ãƒãƒ« â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ : [Newton-Raphson â–¼] åˆæœŸå€¤: [ãƒ©ãƒ³ãƒ€ãƒ  â–¼]    â”‚ â”‚
â”‚ â”‚ è¨±å®¹èª¤å·®: [1e-6] é€Ÿåº¦: [â—â”€â”€â”€â”€â—‹â”€â”€â”€â”€] [é–‹å§‹] [åœæ­¢] [reset]â”‚ â”‚
â”‚ â”‚ â˜‘è¡¨ç¤ºè»Œè·¡ â˜‘èª¤å·®é¢ â˜‘ãƒ™ã‚¯ãƒˆãƒ«å ´ â˜‘ç­‰é«˜ç·š â˜‘åæŸé ˜åŸŸ       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€ å­¦ç¿’æƒ…å ± â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ æ•°å€¤æƒ…å ± â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ç¾åœ¨ã®ã‚¹ãƒ†ãƒƒãƒ—: 4/7    â”‚ åå¾©: 4å›                       â”‚ â”‚
â”‚ â”‚ èª¬æ˜: Jacobianè¨ˆç®—ã«ã‚ˆã‚Šâ”‚ èª¤å·®: 2.34e-5                  â”‚ â”‚
â”‚ â”‚ æ›´æ–°æ–¹å‘ã‚’æ±ºå®šã—ã¦ã„ã‚‹ã€‚â”‚ æœ€å¤§ãƒŸã‚¹ãƒãƒƒãƒ: Bus-3 (P)       â”‚ â”‚
â”‚ â”‚ é›»åœ§ã¯æœ€é©è§£ã«å‘ã‹ã£ã¦  â”‚ åæŸäºˆæ¸¬: ã‚ã¨2-3å›ã§åæŸ       â”‚ â”‚
â”‚ â”‚ ç§»å‹•ã—ã¦ã„ã‚‹ã€‚          â”‚                                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è©³ç´°åˆ†æãƒ¢ãƒ¼ãƒ‰

#### è¤‡ç´ å¹³é¢åˆ†æ
```
è¤‡ç´ é›»åœ§å¹³é¢ (æ¯ç·š3ã®é›»åœ§è»Œè·¡)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Im(Vâ‚ƒ)
      â”‚
  1.1 â”‚     â–² ç›®æ¨™è§£
      â”‚    /â”‚
  1.0 â”‚   / â”‚
      â”‚  /  â”‚
  0.9 â”‚ â—   â”‚ â† ç¾åœ¨ä½ç½®
      â”‚/    â”‚
      â””â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â–º Re(Vâ‚ƒ)
      0.9  1.0  1.1

è»Œè·¡æƒ…å ±:
- é–‹å§‹: 1.0âˆ 0Â° 
- ç¾åœ¨: 0.98âˆ -12.3Â°
- ç›®æ¨™: 1.01âˆ -12.7Â°
- ç§»å‹•è·é›¢: 0.034pu
- æ®‹ã‚Šè·é›¢: 0.008pu (æ¨å®š)
```

#### èª¤å·®é¢åˆ†æ
```
èª¤å·®é–¢æ•° f(V) = ||Î”P||Â² + ||Î”Q||Â²
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     f(V)
      â–²
      â”‚    .Â·â‹…â”€â”
   10â»â´â”‚   Â·    â”‚ â† ç­‰é«˜ç·š
      â”‚  Â·     â”‚
   10â»â¶â”‚ â—     â”‚ â† ç¾åœ¨
      â”‚Â·      /
   10â»â¸â”‚____Â·/______â–º V
           æœ€é©è§£

ç¾åœ¨ã®å‹¾é…: âˆ‡f = [-0.023, 0.015]
Newtonæ–¹å‘: -Jâ»Â¹âˆ‡f = [0.012, -0.008]
```

## ğŸ”¬ æŠ€è¡“å®Ÿè£…

### å¯è¦–åŒ–ã‚¨ãƒ³ã‚¸ãƒ³

#### ComplexPlaneRenderer ã‚¯ãƒ©ã‚¹
```javascript
class ComplexPlaneRenderer {
    constructor(canvas) {
        this.canvas = canvas;
        this.ctx = canvas.getContext('2d');
        this.scale = 100; // pixels per unit
        this.origin = {x: canvas.width/2, y: canvas.height/2};
        this.trajectory = [];
    }
    
    // è¤‡ç´ é›»åœ§å¹³é¢ã®æç”»
    drawComplexPlane() {
        this.clearCanvas();
        this.drawAxes();
        this.drawGrid();
        this.drawContours();
        this.drawVectorField();
        this.drawTrajectory();
        this.drawCurrentPosition();
    }
    
    // åæŸè»Œè·¡ã®æç”»
    drawTrajectory() {
        if (this.trajectory.length < 2) return;
        
        this.ctx.strokeStyle = '#3b82f6';
        this.ctx.lineWidth = 2;
        this.ctx.beginPath();
        
        for (let i = 0; i < this.trajectory.length; i++) {
            const point = this.complexToScreen(this.trajectory[i]);
            if (i === 0) {
                this.ctx.moveTo(point.x, point.y);
            } else {
                this.ctx.lineTo(point.x, point.y);
            }
        }
        this.ctx.stroke();
        
        // è»Œè·¡ç‚¹ã®ãƒãƒ¼ã‚«ãƒ¼
        this.trajectory.forEach((voltage, i) => {
            const point = this.complexToScreen(voltage);
            this.drawTrajectoryMarker(point, i);
        });
    }
    
    // ãƒ™ã‚¯ãƒˆãƒ«å ´ã®æç”»ï¼ˆå‹¾é…æ–¹å‘ï¼‰
    drawVectorField() {
        const gridSize = 20;
        this.ctx.strokeStyle = '#94a3b8';
        this.ctx.lineWidth = 1;
        
        for (let x = 0; x < this.canvas.width; x += gridSize) {
            for (let y = 0; y < this.canvas.height; y += gridSize) {
                const voltage = this.screenToComplex({x, y});
                const gradient = this.calculateGradient(voltage);
                
                if (gradient && this.isValidGradient(gradient)) {
                    this.drawVector({x, y}, gradient);
                }
            }
        }
    }
    
    // ç­‰é«˜ç·šæç”»ï¼ˆèª¤å·®ãƒ¬ãƒ™ãƒ«ï¼‰
    drawContours() {
        const contourLevels = [1e-2, 1e-4, 1e-6, 1e-8, 1e-10];
        const colors = ['#fee2e2', '#fecaca', '#fca5a5', '#f87171', '#ef4444'];
        
        contourLevels.forEach((level, i) => {
            this.ctx.strokeStyle = colors[i];
            this.ctx.lineWidth = 1;
            this.drawContourLevel(level);
        });
    }
}
```

### èª¤å·®é¢3Då¯è¦–åŒ–

#### ErrorSurface3D ã‚¯ãƒ©ã‚¹
```javascript
class ErrorSurface3D {
    constructor(canvas) {
        this.canvas = canvas;
        this.ctx = canvas.getContext('2d');
        this.viewAngle = {theta: 45, phi: 30}; // è¦–ç‚¹è§’åº¦
        this.zoom = 1.0;
    }
    
    // 3Dèª¤å·®é¢ã®æç”»
    drawErrorSurface(voltageRange) {
        this.clearCanvas();
        
        const surface = this.generateSurfaceData(voltageRange);
        const projectedSurface = this.projectToScreen(surface);
        
        this.drawSurfaceMesh(projectedSurface);
        this.drawCurrentPosition();
        this.drawAxes3D();
    }
    
    // èª¤å·®é¢ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
    generateSurfaceData(range) {
        const resolution = 50;
        const surface = [];
        
        for (let i = 0; i <= resolution; i++) {
            const row = [];
            for (let j = 0; j <= resolution; j++) {
                const vm = range.vm.min + (i/resolution) * (range.vm.max - range.vm.min);
                const va = range.va.min + (j/resolution) * (range.va.max - range.va.min);
                
                const voltage = {magnitude: vm, angle: va * Math.PI / 180};
                const error = this.calculateErrorAtPoint(voltage);
                
                row.push({
                    x: vm,
                    y: va,
                    z: Math.log10(error + 1e-12), // log scale
                    error: error
                });
            }
            surface.push(row);
        }
        
        return surface;
    }
    
    // 3Dâ†’2DæŠ•å½±
    projectToScreen(surface) {
        const projected = [];
        
        surface.forEach(row => {
            const projectedRow = [];
            row.forEach(point => {
                const screen = this.project3DTo2D(point.x, point.y, point.z);
                projectedRow.push({
                    screen: screen,
                    original: point
                });
            });
            projected.push(projectedRow);
        });
        
        return projected;
    }
    
    project3DTo2D(x, y, z) {
        // å›è»¢è¡Œåˆ—é©ç”¨
        const cosTheta = Math.cos(this.viewAngle.theta * Math.PI / 180);
        const sinTheta = Math.sin(this.viewAngle.theta * Math.PI / 180);
        const cosPhi = Math.cos(this.viewAngle.phi * Math.PI / 180);
        const sinPhi = Math.sin(this.viewAngle.phi * Math.PI / 180);
        
        // 3Då›è»¢
        const x1 = x * cosTheta - y * sinTheta;
        const y1 = x * sinTheta * cosPhi + y * cosTheta * cosPhi - z * sinPhi;
        const z1 = x * sinTheta * sinPhi + y * cosTheta * sinPhi + z * cosPhi;
        
        // é€è¦–æŠ•å½±
        const scale = 200 * this.zoom / (5 + z1);
        return {
            x: this.canvas.width/2 + x1 * scale,
            y: this.canvas.height/2 - y1 * scale
        };
    }
}
```

### åæŸåˆ†æã‚¨ãƒ³ã‚¸ãƒ³

#### ConvergenceAnalyzer ã‚¯ãƒ©ã‚¹
```javascript
class ConvergenceAnalyzer {
    constructor() {
        this.trajectory = [];
        this.convergenceMetrics = {};
    }
    
    // åæŸæ¬¡æ•°ã®æ¨å®š
    estimateConvergenceRate(errorHistory) {
        if (errorHistory.length < 4) return null;
        
        const rates = [];
        for (let i = 2; i < errorHistory.length - 1; i++) {
            const e_k = errorHistory[i];
            const e_k1 = errorHistory[i-1];
            const e_k2 = errorHistory[i-2];
            
            if (e_k > 0 && e_k1 > 0 && e_k2 > 0) {
                // r = log(e_k+1 / e_k) / log(e_k / e_k-1)
                const rate = Math.log(errorHistory[i+1] / e_k) / Math.log(e_k / e_k1);
                if (isFinite(rate) && rate > 0) {
                    rates.push(rate);
                }
            }
        }
        
        return rates.length > 0 ? rates.reduce((a, b) => a + b) / rates.length : null;
    }
    
    // åæŸé ˜åŸŸã®æ¨å®š
    estimateBasinOfAttraction(algorithm, targetSolution) {
        const testPoints = this.generateTestGrid();
        const convergentPoints = [];
        const divergentPoints = [];
        
        testPoints.forEach(initialPoint => {
            const result = this.testConvergence(algorithm, initialPoint, targetSolution);
            
            if (result.converged) {
                convergentPoints.push(initialPoint);
            } else {
                divergentPoints.push(initialPoint);
            }
        });
        
        return {
            convergent: convergentPoints,
            divergent: divergentPoints,
            boundary: this.estimateBoundary(convergentPoints, divergentPoints)
        };
    }
    
    // å±€æ‰€æœ€å°å€¤ã®æ¤œå‡º
    detectLocalMinima(errorFunction, searchRegion) {
        const candidates = [];
        const gridResolution = 50;
        
        for (let i = 0; i <= gridResolution; i++) {
            for (let j = 0; j <= gridResolution; j++) {
                const x = searchRegion.x.min + (i/gridResolution) * 
                         (searchRegion.x.max - searchRegion.x.min);
                const y = searchRegion.y.min + (j/gridResolution) * 
                         (searchRegion.y.max - searchRegion.y.min);
                
                const point = {x, y};
                const isMinimum = this.isLocalMinimum(errorFunction, point);
                
                if (isMinimum) {
                    candidates.push({
                        location: point,
                        value: errorFunction(point),
                        type: this.classifyMinimum(errorFunction, point)
                    });
                }
            }
        }
        
        return candidates;
    }
}
```

## ğŸ“ æ•™è‚²ã‚·ãƒŠãƒªã‚ª

### æ®µéšçš„å­¦ç¿’ãƒ—ãƒ­ã‚°ãƒ©ãƒ 

#### Level 1: åŸºæœ¬æ¦‚å¿µç†è§£
1. **åæŸã¨ã¯ä½•ã‹**: å˜ç´”ãª1æ¬¡å…ƒä¾‹ã§ã®åæŸæ¦‚å¿µ
2. **åå¾©æ³•ã®åŸç†**: ãªãœåå¾©è¨ˆç®—ã§è§£ãŒæ±‚ã¾ã‚‹ã®ã‹
3. **åˆæœŸå€¤ã®å½±éŸ¿**: é–‹å§‹ç‚¹ã«ã‚ˆã‚‹çµæœã®é•ã„
4. **åæŸåˆ¤å®š**: ã„ã¤ã€Œç­”ãˆãŒæ±‚ã¾ã£ãŸã€ã¨è¨€ãˆã‚‹ã®ã‹

#### Level 2: è¦–è¦šçš„ãƒ‘ã‚¿ãƒ¼ãƒ³èªè­˜
1. **è»Œè·¡ã®å½¢**: ç•°ãªã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è»Œè·¡ç‰¹å¾´
2. **åæŸé€Ÿåº¦**: äºŒæ¬¡åæŸ vs ä¸€æ¬¡åæŸã®è¦–è¦šçš„é•ã„
3. **å®‰å®šæ€§**: åˆæœŸå€¤ã«å¯¾ã™ã‚‹è»Œè·¡ã®å®‰å®šæ€§
4. **ç™ºæ•£ãƒ‘ã‚¿ãƒ¼ãƒ³**: åæŸå¤±æ•—æ™‚ã®å…¸å‹çš„å‹•ä½œ

#### Level 3: æ•°å­¦çš„ç†è§£
1. **Jacobianè¡Œåˆ—**: å±€æ‰€ç·šå½¢åŒ–ã®æ„å‘³ã¨åŠ¹æœ
2. **Newtonæ–¹å‘**: æœ€æ€¥é™ä¸‹ã¨ Newtonæ–¹å‘ã®é•ã„
3. **æ¡ä»¶æ•°**: å•é¡Œã®ã€Œè§£ãã‚„ã™ã•ã€ã®å®šé‡åŒ–
4. **åæŸç†è«–**: ãªãœ Newtonæ³•ã¯äºŒæ¬¡åæŸã™ã‚‹ã®ã‹

#### Level 4: å¿œç”¨ãƒ»æœ€é©åŒ–
1. **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´**: åæŸæ€§æ”¹å–„ã®ãŸã‚ã®è¨­å®š
2. **åˆæœŸå€¤é¸æŠ**: è‰¯ã„é–‹å§‹ç‚¹ã®è¦‹ã¤ã‘æ–¹
3. **éåæŸå¯¾ç­–**: åæŸå¤±æ•—æ™‚ã®å¯¾å‡¦æ³•
4. **å®Ÿç”¨åŒ–**: å®Ÿéš›ã®å•é¡Œã¸ã®é©ç”¨æ–¹æ³•

### ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–å®Ÿé¨“

#### å®Ÿé¨“1: åæŸæ¬¡æ•°ã®ä½“é¨“
```
å®Ÿé¨“è¨­å®š:
- åŒä¸€å•é¡Œã«å¯¾ã—ã¦Newtonæ³•ã¨Gauss-Seidelæ³•ã‚’é©ç”¨
- åæŸæ›²ç·šã®å‹¾é…ã®é•ã„ã‚’è¦–è¦šçš„ã«ç¢ºèª

è¦³å¯Ÿãƒã‚¤ãƒ³ãƒˆ:
- Newtonæ³•: èª¤å·®ãŒæŒ‡æ•°é–¢æ•°çš„ã«æ¸›å°‘ï¼ˆäºŒæ¬¡åæŸï¼‰
- Gauss-Seidel: èª¤å·®ãŒç­‰æ¯”æ•°åˆ—çš„ã«æ¸›å°‘ï¼ˆä¸€æ¬¡åæŸï¼‰

å­¦ç¿’åŠ¹æœ:
- åæŸæ¬¡æ•°ã®æ¦‚å¿µã®ç›´æ„Ÿçš„ç†è§£
- å„æ‰‹æ³•ã®ç‰¹å¾´ã®è¦–è¦šçš„æŠŠæ¡
```

#### å®Ÿé¨“2: åˆæœŸå€¤æ„Ÿåº¦åˆ†æ
```
å®Ÿé¨“è¨­å®š:
- è¤‡ç´ å¹³é¢ä¸Šã®ç•°ãªã‚‹ç‚¹ã‹ã‚‰åŒã˜å•é¡Œã‚’è§£ã
- å„åˆæœŸå€¤ã‹ã‚‰ã®åæŸè»Œè·¡ã‚’åŒæ™‚è¡¨ç¤º

è¦³å¯Ÿãƒã‚¤ãƒ³ãƒˆ:
- åæŸã™ã‚‹åˆæœŸå€¤ã®ç¯„å›²ï¼ˆåæŸé ˜åŸŸï¼‰
- ç™ºæ•£ã™ã‚‹åˆæœŸå€¤ã‹ã‚‰ã®è»Œè·¡ãƒ‘ã‚¿ãƒ¼ãƒ³
- å¢ƒç•Œä»˜è¿‘ã§ã®è»Œè·¡ã®è¤‡é›‘ã•

å­¦ç¿’åŠ¹æœ:
- éç·šå½¢æ–¹ç¨‹å¼ã®è¤‡é›‘æ€§ç†è§£
- åˆæœŸå€¤é¸æŠã®é‡è¦æ€§èªè­˜
```

#### å®Ÿé¨“3: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å½±éŸ¿èª¿æŸ»
```
å®Ÿé¨“è¨­å®š:
- ç³»çµ±æ¡ä»¶ï¼ˆè² è·ãƒ»ç™ºé›»ï¼‰ã‚’æ®µéšçš„ã«å¤‰æ›´
- å„æ¡ä»¶ã§ã®åæŸç‰¹æ€§ã®å¤‰åŒ–ã‚’è¦³å¯Ÿ

è¦³å¯Ÿãƒã‚¤ãƒ³ãƒˆ:
- è»½è² è·æ™‚: åºƒã„åæŸé ˜åŸŸã€é«˜é€ŸåæŸ
- é‡è² è·æ™‚: ç‹­ã„åæŸé ˜åŸŸã€ä½é€ŸåæŸ
- è‡¨ç•Œç‚¹ä»˜è¿‘: åæŸå›°é›£ã€è¤‡é›‘ãªè»Œè·¡

å­¦ç¿’åŠ¹æœ:
- ç³»çµ±çŠ¶æ…‹ã¨æ•°å€¤è¨ˆç®—ã®é–¢ä¿‚ç†è§£
- å®Ÿç”¨ä¸Šã®é™ç•Œã¨æ³¨æ„ç‚¹ã®èªè­˜
```

## ğŸ”§ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½

### è¡¨ç¤ºè¨­å®š

#### å¯è¦–åŒ–ãƒ¢ãƒ¼ãƒ‰
```javascript
const visualizationModes = {
    educational: {
        showEquations: true,       // æ•°å¼è¡¨ç¤º
        showExplanations: true,    // è§£èª¬ãƒ†ã‚­ã‚¹ãƒˆ
        animationSpeed: 'slow',    // ã‚†ã£ãã‚Šã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
        highlightConcepts: true    // é‡è¦æ¦‚å¿µã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ
    },
    
    research: {
        showNumerics: true,        // æ•°å€¤è©³ç´°è¡¨ç¤º
        showStatistics: true,      // çµ±è¨ˆæƒ…å ±
        animationSpeed: 'fast',    // é«˜é€Ÿã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
        precisionDigits: 8         // é«˜ç²¾åº¦è¡¨ç¤º
    },
    
    presentation: {
        cleanInterface: true,      // ã‚·ãƒ³ãƒ—ãƒ«UI
        largeFont: true,          // å¤§ãã„ãƒ•ã‚©ãƒ³ãƒˆ
        highContrast: true,       // é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ
        fullScreen: true          // ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³
    }
};
```

#### ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒ
```javascript
const colorThemes = {
    default: {
        trajectory: '#3b82f6',
        current: '#ef4444',
        target: '#10b981',
        background: '#0f0f1a'
    },
    
    accessibility: {
        trajectory: '#000080',     // è‰²è¦šãƒãƒªã‚¢ãƒ•ãƒªãƒ¼
        current: '#ff0000',
        target: '#008000',
        background: '#ffffff'
    },
    
    presentation: {
        trajectory: '#1e40af',     // ãƒ—ãƒ¬ã‚¼ãƒ³ç”¨é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ
        current: '#dc2626',
        target: '#059669',
        background: '#f8fafc'
    }
};
```

## ğŸš€ ä»Šå¾Œã®æ‹¡å¼µ

### äºˆå®šæ©Ÿèƒ½
1. **VR/ARå¯¾å¿œ**: æ²¡å…¥å‹3Dç©ºé–“ã§ã®åæŸä½“é¨“
2. **è§¦è¦šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: åæŸã®ã€Œæ‰‹è§¦ã‚Šã€æ„Ÿè¦š
3. **éŸ³éŸ¿åŠ¹æœ**: åæŸéç¨‹ã®è´è¦šçš„è¡¨ç¾
4. **AIè§£èª¬**: å€‹äººé©å¿œå‹å­¦ç¿’æ”¯æ´

### æŠ€è¡“æ”¹è‰¯
1. **WebGLæ´»ç”¨**: é«˜é€Ÿ3Dæç”»ã¨ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¨ˆç®—
2. **WebAssembly**: é«˜ç²¾åº¦æ•°å€¤è¨ˆç®—ã®é«˜é€ŸåŒ–
3. **PWAå¯¾å¿œ**: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å­¦ç¿’ç’°å¢ƒ
4. **ã‚¯ãƒ©ã‚¦ãƒ‰é€£æº**: å­¦ç¿’å±¥æ­´ã¨å…±æœ‰æ©Ÿèƒ½

---

**ãƒ•ã‚¡ã‚¤ãƒ«**: `power_flow_intuitive.html`  
**ä½œæˆæ—¥**: 2024å¹´12æœˆ30æ—¥  
**æ›´æ–°æ—¥**: 2024å¹´12æœˆ30æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.2